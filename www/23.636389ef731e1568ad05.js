(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"3Toh":function(n,t){n.exports='<ion-header no-border>\r\n  <ion-toolbar>\r\n    <ion-buttons slot="start">\r\n        <ion-icon *ngIf="index === 1"\r\n                   slot="icon-only"\r\n                   class="back"\r\n                   (click)="goBack()"\r\n                   name="arrow-back">\r\n        </ion-icon>\r\n    </ion-buttons>\r\n    <ion-buttons slot="end">\r\n      <ion-button (click)="openHelp()">\r\n        <ion-icon slot="icon-only"\r\n                  name="help-circle-outline">\r\n        </ion-icon>\r\n      </ion-button>\r\n    </ion-buttons>\r\n  </ion-toolbar>\r\n</ion-header>\r\n<ion-content>\r\n  <ion-slides [options]="slidesOpts"\r\n               class="swiper-no-swiping">\r\n    <ion-slide>\r\n      <app-sign-in (signUp)="swipe()"></app-sign-in>\r\n    </ion-slide>\r\n    <ion-slide>\r\n      <app-sign-up></app-sign-up>\r\n    </ion-slide>\r\n  </ion-slides>\r\n</ion-content>\r\n\r\n\r\n'},BTrb:function(n,t){n.exports='<div class="signup">\r\n  <h3>{{\'register.a\' | translate}}</h3>\r\n  <h1 class="antic" [innerHTML]="\'free.account\' | translate">\r\n  </h1>\r\n  <form [formGroup]="signUpForm" (ngSubmit)="onSubmit()">\r\n  <app-pick-avatar (avatar)="avatar = $event">\r\n  </app-pick-avatar>\r\n  <ion-list>\r\n    <ion-item>\r\n        <ion-input name="name"\r\n                   type="text"\r\n                   mode="md"\r\n                   formControlName="name"\r\n                   [placeholder]="\'name\' | translate">\r\n        </ion-input>\r\n      </ion-item>\r\n    <ion-item>\r\n      <ion-input name="email"\r\n                 mode="md"\r\n                 placeholder="Email"\r\n                 formControlName="email">\r\n      </ion-input>\r\n    </ion-item>\r\n    <ion-item>\r\n        <ion-input name="password"\r\n                   type="password"\r\n                   mode="md"\r\n                   formControlName="password"\r\n                   [placeholder]="\'password\' | translate"\r\n                   [ngClass]="{\'valid\': !matchError}">\r\n      </ion-input>\r\n    </ion-item>\r\n    <ion-item>\r\n      <ion-input name="password2"\r\n                 type="password"\r\n                 mode="md"\r\n                 formControlName="password2"\r\n                 [placeholder]="\'repeat.password\' | translate"\r\n                 [ngClass]="matchError === true ? \'invalid\' : \'valid\'">\r\n      </ion-input>\r\n    </ion-item>\r\n  </ion-list>\r\n  <ion-button type="submit"\r\n              expand="full"\r\n              color="primary"\r\n              shape="round"\r\n              [disabled]="signUpForm.invalid"\r\n              mode="md">\r\n              {{\'create\' | translate}}\r\n  </ion-button>\r\n  </form>\r\n</div>\r\n\r\n'},F4UR:function(n,t,r){"use strict";r.r(t);var e=r("mrSG"),i=r("CcnG"),o=r("Ip0R"),s=r("gIcY"),a=r("ZYCi"),p=r("ZZ/e"),l=r("x/1R"),m=r("hJre"),c=function(){function n(n){this.crafter=n,this.slidesOpts={effect:"flip",zoom:!1}}return n.prototype.onResize=function(){var n=this;this.slides&&setTimeout(function(){return n.slides.update()},100)},n.prototype.ngOnInit=function(){},n.prototype.swipe=function(){var n=this;this.slides.slideNext(),this.slides.getActiveIndex().then(function(t){n.index=t})},n.prototype.goBack=function(){var n=this;this.slides.slideTo(0),this.slides.getActiveIndex().then(function(t){n.index=t})},n.prototype.openHelp=function(){return e.b(this,void 0,void 0,function(){return e.e(this,function(n){switch(n.label){case 0:return[4,this.crafter.popOver(m.a)];case 1:return n.sent(),[2]}})})},e.c([Object(i.lb)(p.d),e.f("design:type",p.d)],n.prototype,"slides",void 0),e.c([Object(i.z)("window:resize"),e.f("design:type",Function),e.f("design:paramtypes",[]),e.f("design:returntype",void 0)],n.prototype,"onResize",null),n=e.c([Object(i.n)({selector:"app-login",template:r("3Toh"),styles:[r("H+1c")]}),e.f("design:paramtypes",[l.a])],n)}(),u=r("RL7/"),h=r("lGt+"),d=r("K+Ou"),g=function(){function n(n,t,r,e,o,s){this.nav=n,this._user=t,this.auth=r,this.storage=e,this.crafter=o,this.menu=s,this.signUp=new i.w,this.remember=!1}return n.prototype.ngOnInit=function(){this.disableMenu(!0),this.getUser(),this.createSignUpForm(),this.rememberMe()},n.prototype.createSignUpForm=function(){this.signInForm=new s.b({email:new s.a(null,[s.f.required,s.f.email,s.f.minLength(5),s.f.maxLength(35)]),password:new s.a(null,[s.f.required,s.f.minLength(5),s.f.maxLength(25)])})},n.prototype.onSubmit=function(){if(!this.signInForm.invalid){var n=this.signInForm.value.email,t=this.signInForm.value.password;this.signIn(n,t)}},n.prototype.disableMenu=function(n){this.menu.get().then(function(t){t.swipeGesture=!n})},n.prototype.getUser=function(){this.user=this._user.getUser()},n.prototype.signIn=function(n,t){var r=this;this.auth.signIn(n,t).subscribe(function(n){return e.b(r,void 0,void 0,function(){return e.e(this,function(t){switch(t.label){case 0:return n.ok?(this._user.setUser(n.user),[4,this.storage.setToken(n.token)]):[3,2];case 1:t.sent(),this.storage.setId(n.user._id),this.storage.save("remember",this.remember),this.nav.navigateRoot("/home"),t.label=2;case 2:return[2]}})})},function(n){0===n.status?r.crafter.alert("Login Error"):(r.crafter.alert("Invalid Login"),r.storage.clear(),console.log(n))})},n.prototype.goToSignUp=function(){this.signUp.emit(!0)},n.prototype.enterAsGuest=function(){return e.b(this,void 0,void 0,function(){return e.e(this,function(n){switch(n.label){case 0:return[4,this.storage.reset()];case 1:return n.sent(),this._user.setGuest(),this.nav.navigateRoot("/home"),[2]}})})},n.prototype.rememberMe=function(){var n=this;this.storage.getRemember()&&this.storage.getId()&&this._user.getUserById(this.storage.getId()).subscribe(function(t){n.remember=!0,n.user=t.user,n.signInForm.controls.email.setValue(t.user.email)},function(n){console.log(n)})},n.prototype.ngOnDestroy=function(){this.disableMenu(!1)},e.c([Object(i.Q)(),e.f("design:type",i.w)],n.prototype,"signUp",void 0),n=e.c([Object(i.n)({selector:"app-sign-in",template:r("wDuV"),styles:[r("am25")]}),e.f("design:paramtypes",[p.i,h.h,u.a,d.a,l.a,p.g])],n)}(),f=r("9APP"),b=function(){function n(n,t,r,e,i){this.auth=n,this.storage=t,this.nav=r,this.craft=e,this._user=i,this.namePattern="^[A-Za-z0-9 _]*[A-Za-z0-9][A-Za-z0-9 _]*$",this.matchError=!1}return n.prototype.ngOnInit=function(){this.createSignUpForm()},n.prototype.createSignUpForm=function(){this.signUpForm=new s.b({name:new s.a(null,[s.f.required,s.f.minLength(3),s.f.maxLength(20),s.f.pattern(this.namePattern)]),email:new s.a(null,[s.f.required,s.f.email,s.f.minLength(5),s.f.maxLength(35)]),password:new s.a(null,[s.f.required,s.f.minLength(5),s.f.maxLength(25)]),password2:new s.a("",[s.f.required])},{validators:this.theyMatchError("password","password2")})},n.prototype.onSubmit=function(){if(!this.signUpForm.invalid){var n=this.signUpForm.value;n.avatar=this.avatar,this.signUp(n)}},n.prototype.signUp=function(n){var t=this;this.auth.signUp(n).subscribe(function(n){return e.b(t,void 0,void 0,function(){return e.e(this,function(t){switch(t.label){case 0:return n.ok?(this._user.setUser(n.user),[4,this.storage.setToken(n.token)]):[3,2];case 1:t.sent(),this.storage.setId(n.user._id),this.nav.navigateRoot("/home"),this.craft.alert("Welcome!"),t.label=2;case 2:return[2]}})})},function(n){0===n.status?t.craft.alert("Login Error"):(t.craft.alert("Email must be Unique"),t.storage.clear(),console.log(n))})},n.prototype.theyMatchError=function(n,t){var r=this;return function(e){return e.controls[n].value===e.controls[t].value?(r.matchError=!1,null):(r.matchError=!0,{error:!0})}},n=e.c([Object(i.n)({selector:"app-sign-up",template:r("BTrb"),styles:[r("iMh/")]}),e.f("design:paramtypes",[h.b,h.g,p.i,l.a,f.a])],n)}(),v=r("V/fk"),w=r("PCNd");r.d(t,"LoginPageModule",function(){return y});var x=[{path:"",component:c}],y=function(){function n(){}return n=e.c([Object(i.J)({imports:[o.b,s.c,p.e,s.e,v.a,w.a,a.i.forChild(x)],declarations:[c,g,b]})],n)}()},"H+1c":function(n,t){n.exports="ion-toolbar {\n  background: transparent; }\n\nion-header {\n  position: absolute; }\n\nion-slides {\n  height: 100%; }\n\n@media (max-height: 500px) {\n  ion-slides {\n    height: auto; } }\n\n.back {\n  margin-left: 5px !important;\n  font-size: 1.7em !important; }\n"},am25:function(n,t){n.exports=".signin {\n  min-height: 100%; }\n\nion-button {\n  margin-top: 30px;\n  margin-bottom: 20px; }\n\nion-item {\n  width: 100%;\n  margin: 5px auto; }\n\nform {\n  margin-top: 30px;\n  margin-bottom: 45px; }\n\nion-list {\n  width: 300px; }\n\nion-checkbox, .remember {\n  position: relative;\n  top: 13px;\n  --border-width: auto; }\n\n.antic {\n  color: var(--ion-color-primary); }\n\nh1 {\n  margin: 5px auto;\n  font-size: 2em; }\n\nh3 {\n  margin-bottom: 0; }\n\nh4 {\n  font-size: .7em;\n  margin-top: 5px;\n  margin-bottom: 10px; }\n\n.bold:hover {\n  cursor: pointer; }\n"},"iMh/":function(n,t){n.exports=".signup {\n  min-height: 100%;\n  margin-top: 10px; }\n\nion-list {\n  margin-bottom: 25px;\n  margin-top: 10px;\n  width: 300px; }\n\nion-item {\n  margin: 5px auto; }\n\nion-button {\n  margin-top: 5px; }\n\n.invalid {\n  color: var(--ion-color-danger); }\n\n.valid {\n  color: var(--ion-color-success); }\n\nform {\n  width: 300px;\n  margin: 0 auto;\n  min-height: 100%; }\n\n.antic {\n  color: var(--ion-color-primary); }\n\nh1 {\n  margin: 5px auto;\n  font-size: 1.8em; }\n\nh3 {\n  margin-top: 25px;\n  margin-bottom: 0; }\n\n@media (max-width: 340px) {\n  h1 {\n    font-size: 1.2em; }\n  h3 {\n    font-size: .8em; }\n  ion-list, form {\n    width: 270px; }\n  ion-input {\n    font-size: .9em; } }\n"},wDuV:function(n,t){n.exports='<div class="signin" *ngIf="!loading">\r\n  <h3>{{\'welcome.to\' | translate}}</h3>\r\n  <h1 class="antic">Antic<ion-text color="light">\'</ion-text>s\r\n    <ion-text color="light">Space</ion-text>\r\n  </h1>\r\n  <h4>{{\'login.account\' | translate}}</h4>\r\n\r\n  <form [formGroup]="signInForm" (ngSubmit)="onSubmit()">\r\n    <ion-list>\r\n      <ion-item>\r\n        <ion-input name="email"\r\n                   type="email"\r\n                   placeholder="Email"\r\n                   formControlName="email"\r\n                   mode="md">\r\n        </ion-input>\r\n      </ion-item>\r\n      <ion-item>\r\n        <ion-input name="password"\r\n                   type="password"\r\n                   [placeholder]="\'password\' | translate"\r\n                   formControlName="password"\r\n                   mode="md">\r\n        </ion-input>\r\n      </ion-item>\r\n      <ion-item lines="none">\r\n        <ion-label class="remember">{{\'remember\' | translate}}?</ion-label>\r\n          <ion-checkbox color="light"\r\n                        [(ngModel)]="remember"\r\n                        slot="end"\r\n                        [ngModelOptions]="{standalone: true}">\r\n          </ion-checkbox>\r\n      </ion-item>\r\n    </ion-list>\r\n    <ion-button type="submit"\r\n                expand="full"\r\n                color="primary"\r\n                shape="round"\r\n                mode="md"\r\n                [disabled]="signInForm.invalid">\r\n                {{\'login\' | translate}}\r\n    </ion-button>\r\n  </form>\r\n  <h4>{{\'no.account\' | translate}}?\r\n    <span class="bold"\r\n          (click)="goToSignUp()"\r\n          [innerHTML]="\'register\' | translate">\r\n    </span>!\r\n  </h4>\r\n  <h4>{{\'no.time\' | translate}}\r\n    <span class="bold" (click)="enterAsGuest()">{{\'guest\' | translate}}</span>\r\n  </h4>\r\n</div>\r\n'}}]);